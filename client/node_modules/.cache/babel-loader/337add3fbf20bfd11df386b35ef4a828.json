{"ast":null,"code":"import _defineProperty from\"/Users/sabrinastevens/Documents/Ecommerce-III/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/sabrinastevens/Documents/Ecommerce-III/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sabrinastevens/Documents/Ecommerce-III/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/sabrinastevens/Documents/Ecommerce-III/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/sabrinastevens/Documents/Ecommerce-III/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/sabrinastevens/Documents/Ecommerce-III/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';//This is where the products are displayed and filtered\nvar ProductsPage=/*#__PURE__*/function(_Component){_inherits(ProductsPage,_Component);function ProductsPage(){var _getPrototypeOf2;var _this;_classCallCheck(this,ProductsPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ProductsPage)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={type:\"any\",brand:\"any\",prices:{low:0,high:50000},products:[]};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.changePrice=function(e){_this.parsePrice(e.target.value);};_this.parsePrice=function(value){var prices=value.split(\" \");if(prices.length>1){_this.setState({prices:{low:prices[0],high:prices[1]}});}else{_this.setState({prices:{low:prices[0],high:false}});}};_this.filterProducts=function(products,type,brand,prices){var filteredProducts=products;// Transform Filtered Products based on passed arguments\n// Types\nif(type!==\"any\"){filteredProducts=filteredProducts.filter(function(product){return product.guitar_type===type;});}// Brands\nif(brand!==\"any\"){filteredProducts=filteredProducts.filter(function(product){return product.brand_name.toLowerCase()===brand;});}// Handle Prices\nif(prices.low){filteredProducts=filteredProducts.filter(function(product){return product.price>=prices.low;});}if(prices.high){filteredProducts=filteredProducts.filter(function(product){return product.price<=prices.high;});}return filteredProducts;};return _this;}_createClass(ProductsPage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('/api/products').then(function(res){return res.json();}).then(function(data){_this2.setState({products:data});console.log(data);}).catch(console.log);}//Set state based on the name of the select and the value of the option\n},{key:\"render\",value:function render(){// Get the products off state.\nvar _this$state=this.state,products=_this$state.products,type=_this$state.type,brand=_this$state.brand,prices=_this$state.prices;// Filter Products by selection\nvar filteredProducts=this.filterProducts(products,type,brand,prices);// Render Products\nreturn React.createElement(\"div\",{className:\"product-container\"},React.createElement(\"div\",{className:\"row mt-3 mb-2\"},React.createElement(\"h1\",{className:\"page-header top-page ml-3\"},\"Browse Our Guitars!\"),React.createElement(\"div\",null,React.createElement(\"form\",{className:\"form-inline col-md-8 col-lg-11 top-form\"},React.createElement(\"div\",{className:\"form-group mt-3\"},React.createElement(\"select\",{name:\"type\",className:\"ml-3\",id:\"guitar-type\",onChange:this.handleChange},React.createElement(\"option\",{value:\"any\",hidden:true},\"Guitar Type:\"),React.createElement(\"option\",{value:\"any\"},\"Any\"),React.createElement(\"option\",{value:\"electric\"},\"Electric Guitar\"),React.createElement(\"option\",{value:\"acoustic\"},\"Acoustic Guitar\")),React.createElement(\"select\",{name:\"prices\",className:\"ml-3\",id:\"guitar-price\",onChange:this.changePrice},React.createElement(\"option\",{value:\"0 500000\",hidden:true},\"Price:\"),React.createElement(\"option\",{value:\"0 500000\"},\"Any\"),React.createElement(\"option\",{value:\"0 200\"},\"Less than $200\"),React.createElement(\"option\",{value:\"200 499\"},\"$200-$499\"),React.createElement(\"option\",{value:\"500 999\"},\"$500-$999\"),React.createElement(\"option\",{value:\"1000 2999\"},\"$1000-$2999\"),React.createElement(\"option\",{value:\"3000 5000\"},\"$3000-$5000\"),React.createElement(\"option\",{value:\"5001\"},\"More than $5000\")),React.createElement(\"select\",{name:\"brand\",className:\"ml-3\",id:\"guitar-brand\",onChange:this.handleChange},React.createElement(\"option\",{value:\"any\",hidden:true},\"Brand:\"),React.createElement(\"option\",{value:\"any\"},\"Any\"),React.createElement(\"option\",{value:\"fender\"},\"Fender\"),React.createElement(\"option\",{value:\"squier\"},\"Squier\"),React.createElement(\"option\",{value:\"epiphone\"},\"Epiphone\"),React.createElement(\"option\",{value:\"prs\"},\"PRS\"),React.createElement(\"option\",{value:\"ibanez\"},\"Ibanez\"),React.createElement(\"option\",{value:\"martin\"},\"Martin\"),React.createElement(\"option\",{value:\"ltd\"},\"ESP/LTD\"),React.createElement(\"option\",{value:\"taylor\"},\"Taylor\"),React.createElement(\"option\",{value:\"d'angelico\"},\"D'Angelico\"),React.createElement(\"option\",{value:\"yamaha\"},\"Yamaha\"),React.createElement(\"option\",{value:\"ernie-ball\"},\"Ernie Ball\")))))),React.createElement(\"div\",{className:\"row products\"},filteredProducts.length>=1?filteredProducts.map(function(product){return React.createElement(\"div\",{key:product.product_id,className:\"product-box\"},React.createElement(\"img\",{src:product.img_url,alt:product.img_alt,className:\"img card-img-top\"}),React.createElement(\"div\",{className:\"card-body\"},React.createElement(\"h3\",{className:\"card-header\"},product.product_name),React.createElement(\"p\",{className:\"card-subtitle\"},\"$\",product.price),React.createElement(\"p\",{className:\"card-text ml-3\"},product.product_details)));}):React.createElement(\"p\",{className:\"no-result\"},\"No results found...\")));}}]);return ProductsPage;}(Component);export default ProductsPage;","map":{"version":3,"sources":["/Users/sabrinastevens/Documents/Ecommerce-III/client/src/Components/Products.jsx"],"names":["React","Component","ProductsPage","state","type","brand","prices","low","high","products","handleChange","e","setState","target","name","value","changePrice","parsePrice","split","length","filterProducts","filteredProducts","filter","product","guitar_type","brand_name","toLowerCase","price","fetch","then","res","json","data","console","log","catch","map","product_id","img_url","img_alt","product_name","product_details"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n//This is where the products are displayed and filtered\nclass ProductsPage extends Component {\n  //Saving the value of options so that they can be recompared on change of another select. Products in the state so that if the page was made to a certain size and only had part of the products it would rerender if more products were loaded\n  state = {\n    type: \"any\",\n    brand: \"any\",\n    prices: {\n      low: 0,\n      high: 50000\n    },\n    products: []\n  }\n\n  componentDidMount() {\n    fetch('/api/products')\n    .then(res => res.json())\n    .then((data) => {\n      this.setState({ products: data })\n      console.log(data)\n    })\n    .catch(console.log)\n  }\n\n//Set state based on the name of the select and the value of the option\n  handleChange = e => {    \n    this.setState({\n      [e.target.name]: e.target.value,\n    })\n  }\n//Get the price and send it to parsePrice\n  changePrice = (e) => {\n    this.parsePrice(e.target.value)\n  }\n//Parse the value of price and set state with the two different numbers checking if there is a high by checking the length of of the array with the numbers. If it is less than one then there is no high price and that doesn't need to be compared later so it is set to false\n  parsePrice = (value) => {\n    let prices = value.split(\" \");\n    if(prices.length > 1){\n      this.setState({\n        prices: {\n          low: prices[0],\n          high: prices[1]\n        }\n      })\n    } else{\n      this.setState({\n        prices: {\n          low: prices[0],\n          high: false\n        }\n      })\n    }\n  }\n//Filter the products with .filter() saving the new array under a common variable that in the end is returned\n  filterProducts = (products, type, brand, prices) => {\n\n    let filteredProducts = products;\n\n    // Transform Filtered Products based on passed arguments\n\n    // Types\n    if(type !== \"any\"){\n      filteredProducts = filteredProducts.filter(product => product.guitar_type === type)\n    }\n    // Brands\n    if(brand !== \"any\"){\n      filteredProducts = filteredProducts.filter(product => product.brand_name.toLowerCase() === brand)\n    }\n    // Handle Prices\n    if(prices.low) {\n      filteredProducts = filteredProducts.filter(product => product.price >= prices.low)\n    }\n    if(prices.high) {\n      filteredProducts = filteredProducts.filter(product => product.price <= prices.high)\n    }\n\n    return filteredProducts;\n  }\n\n  render() {\n\n    // Get the products off state.\n    const { products, type, brand, prices } = this.state;\n\n    // Filter Products by selection\n   const filteredProducts = this.filterProducts(products, type, brand, prices)\n    // Render Products\n    return (\n      <div className=\"product-container\">\n        <div className=\"row mt-3 mb-2\">\n          <h1 className=\"page-header top-page ml-3\">Browse Our Guitars!</h1>\n          <div >\n            <form className=\"form-inline col-md-8 col-lg-11 top-form\">\n              <div className=\"form-group mt-3\">\n                <select name=\"type\" className=\"ml-3\" id=\"guitar-type\" onChange={this.handleChange}>\n                  <option value=\"any\" hidden>Guitar Type:</option>\n                  <option value=\"any\">Any</option>\n                  <option value=\"electric\">Electric Guitar</option>\n                  <option value=\"acoustic\">Acoustic Guitar</option>\n                </select>\n\n                <select name=\"prices\" className=\"ml-3\" id=\"guitar-price\" onChange={this.changePrice}>\n                  <option value=\"0 500000\" hidden>Price:</option>\n                  <option value=\"0 500000\">Any</option>\n                  <option value=\"0 200\">Less than $200</option>\n                  <option value=\"200 499\">$200-$499</option>\n                  <option value=\"500 999\">$500-$999</option>\n                  <option value=\"1000 2999\">$1000-$2999</option>\n                  <option value=\"3000 5000\">$3000-$5000</option>\n                  <option value=\"5001\">More than $5000</option>\n                </select>\n\n                <select name=\"brand\" className=\"ml-3\" id=\"guitar-brand\" onChange={this.handleChange}>\n                  <option value=\"any\" hidden>Brand:</option>\n                  <option value=\"any\">Any</option>\n                  <option value=\"fender\">Fender</option>\n                  <option value=\"squier\">Squier</option>\n                  <option value=\"epiphone\">Epiphone</option>\n                  <option value=\"prs\">PRS</option>\n                  <option value=\"ibanez\">Ibanez</option>\n                  <option value=\"martin\">Martin</option>\n                  <option value=\"ltd\">ESP/LTD</option>\n                  <option value=\"taylor\">Taylor</option>\n                  <option value=\"d'angelico\">D'Angelico</option>\n                  <option value=\"yamaha\">Yamaha</option>\n                  <option value=\"ernie-ball\">Ernie Ball</option>\n                </select>\n\n              </div>\n            </form>\n          </div>\n        </div>\n        <div className=\"row products\">\n          {filteredProducts.length >= 1 ? (\n            filteredProducts.map(product => (\n              <div key={product.product_id} className=\"product-box\">\n                <img src={product.img_url} alt={product.img_alt} className=\"img card-img-top\"></img>\n                <div className=\"card-body\">\n                  <h3 className=\"card-header\">{product.product_name}</h3>\n                  <p className=\"card-subtitle\">${product.price}</p>\n                  <p className=\"card-text ml-3\">{product.product_details}</p>\n                </div>\n              </div>\n            ))\n          ) : (\n            <p className=\"no-result\">No results found...</p> \n          )}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ProductsPage;"]},"metadata":{},"sourceType":"module"}