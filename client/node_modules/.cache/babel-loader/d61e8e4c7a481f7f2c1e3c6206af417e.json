{"ast":null,"code":"var _jsxFileName = \"/Users/sabrinastevens/Documents/Ecommerce-III/client/src/Components/Products.jsx\";\nimport React, { Component } from 'react'; //This is where the products are displayed and filtered\n\nclass ProductsPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      type: \"any\",\n      brand: \"any\",\n      prices: {\n        low: 0,\n        high: 50000\n      },\n      products: []\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.changePrice = e => {\n      this.parsePrice(e.target.value);\n    };\n\n    this.parsePrice = value => {\n      let prices = value.split(\" \");\n\n      if (prices.length > 1) {\n        this.setState({\n          prices: {\n            low: prices[0],\n            high: prices[1]\n          }\n        });\n      } else {\n        this.setState({\n          prices: {\n            low: prices[0],\n            high: false\n          }\n        });\n      }\n    };\n\n    this.filterProducts = (products, type, brand, prices) => {\n      let filteredProducts = products; // Transform Filtered Products based on passed arguments\n      // Types\n\n      if (type !== \"any\") {\n        filteredProducts = filteredProducts.filter(product => product.guitar_type === type);\n      } // Brands\n\n\n      if (brand !== \"any\") {\n        filteredProducts = filteredProducts.filter(product => product.brand_name.toLowerCase() === brand);\n      } // Handle Prices\n\n\n      if (prices.low) {\n        filteredProducts = filteredProducts.filter(product => product.price >= prices.low);\n      }\n\n      if (prices.high) {\n        filteredProducts = filteredProducts.filter(product => product.price <= prices.high);\n      }\n\n      return filteredProducts;\n    };\n  }\n\n  componentDidMount() {\n    fetch('/api/products').then(res => res.json()).then(data => {\n      this.setState({\n        products: data\n      });\n      console.log(data);\n    }).catch(console.log);\n  } //Set state based on the name of the select and the value of the option\n\n\n  render() {\n    // Get the products off state.\n    const _this$state = this.state,\n          products = _this$state.products,\n          type = _this$state.type,\n          brand = _this$state.brand,\n          prices = _this$state.prices; // Filter Products by selection\n\n    const filteredProducts = this.filterProducts(products, type, brand, prices); // Render Products\n\n    return React.createElement(\"div\", {\n      className: \"product-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row mt-3 mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"page-header top-page ml-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Browse Our Guitars!\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"form-inline col-md-8 col-lg-11 top-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      name: \"type\",\n      className: \"ml-3 form-control product-select\",\n      id: \"guitar-type\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"any\",\n      hidden: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Guitar Type:\"), React.createElement(\"option\", {\n      value: \"any\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Any\"), React.createElement(\"option\", {\n      value: \"electric\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Electric Guitar\"), React.createElement(\"option\", {\n      value: \"acoustic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Acoustic Guitar\")), React.createElement(\"select\", {\n      name: \"prices\",\n      className: \"ml-3 form-control product-select\",\n      id: \"guitar-price\",\n      onChange: this.changePrice,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"0 500000\",\n      hidden: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Price:\"), React.createElement(\"option\", {\n      value: \"0 500000\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Any\"), React.createElement(\"option\", {\n      value: \"0 200\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Less than $200\"), React.createElement(\"option\", {\n      value: \"200 499\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"$200-$499\"), React.createElement(\"option\", {\n      value: \"500 999\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"$500-$999\"), React.createElement(\"option\", {\n      value: \"1000 2999\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"$1000-$2999\"), React.createElement(\"option\", {\n      value: \"3000 5000\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"$3000-$5000\"), React.createElement(\"option\", {\n      value: \"5001\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"More than $5000\")), React.createElement(\"select\", {\n      name: \"brand\",\n      className: \"ml-3 form-control product-select\",\n      id: \"guitar-brand\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"any\",\n      hidden: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Brand:\"), React.createElement(\"option\", {\n      value: \"any\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Any\"), React.createElement(\"option\", {\n      value: \"fender\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Fender\"), React.createElement(\"option\", {\n      value: \"squier\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Squier\"), React.createElement(\"option\", {\n      value: \"epiphone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Epiphone\"), React.createElement(\"option\", {\n      value: \"prs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"PRS\"), React.createElement(\"option\", {\n      value: \"ibanez\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Ibanez\"), React.createElement(\"option\", {\n      value: \"martin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Martin\"), React.createElement(\"option\", {\n      value: \"ltd\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"ESP/LTD\"), React.createElement(\"option\", {\n      value: \"taylor\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Taylor\"), React.createElement(\"option\", {\n      value: \"d'angelico\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"D'Angelico\"), React.createElement(\"option\", {\n      value: \"yamaha\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Yamaha\"), React.createElement(\"option\", {\n      value: \"ernie-ball\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Ernie Ball\")))))), React.createElement(\"div\", {\n      className: \"row products\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, filteredProducts.length >= 1 ? filteredProducts.map(product => React.createElement(\"div\", {\n      key: product.product_id,\n      className: \"product-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: product.img_url,\n      alt: product.img_alt,\n      className: \"img card-img-top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"card-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, product.product_name), React.createElement(\"p\", {\n      className: \"card-subtitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"$\", product.price), React.createElement(\"p\", {\n      className: \"card-text ml-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, product.product_details)))) : React.createElement(\"p\", {\n      className: \"no-result\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"No results found...\")));\n  }\n\n}\n\nexport default ProductsPage;","map":{"version":3,"sources":["/Users/sabrinastevens/Documents/Ecommerce-III/client/src/Components/Products.jsx"],"names":["React","Component","ProductsPage","state","type","brand","prices","low","high","products","handleChange","e","setState","target","name","value","changePrice","parsePrice","split","length","filterProducts","filteredProducts","filter","product","guitar_type","brand_name","toLowerCase","price","componentDidMount","fetch","then","res","json","data","console","log","catch","render","map","product_id","img_url","img_alt","product_name","product_details"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n//This is where the products are displayed and filtered\nclass ProductsPage extends Component {\n  //Saving the value of options so that they can be recompared on change of another select. Products in the state so that if the page was made to a certain size and only had part of the products it would rerender if more products were loaded\n  state = {\n    type: \"any\",\n    brand: \"any\",\n    prices: {\n      low: 0,\n      high: 50000\n    },\n    products: []\n  }\n\n  componentDidMount() {\n    fetch('/api/products')\n    .then(res => res.json())\n    .then((data) => {\n      this.setState({ products: data })\n      console.log(data)\n    })\n    .catch(console.log)\n  }\n\n//Set state based on the name of the select and the value of the option\n  handleChange = e => {    \n    this.setState({\n      [e.target.name]: e.target.value,\n    })\n  }\n//Get the price and send it to parsePrice\n  changePrice = (e) => {\n    this.parsePrice(e.target.value)\n  }\n//Parse the value of price and set state with the two different numbers checking if there is a high by checking the length of of the array with the numbers. If it is less than one then there is no high price and that doesn't need to be compared later so it is set to false\n  parsePrice = (value) => {\n    let prices = value.split(\" \");\n    if(prices.length > 1){\n      this.setState({\n        prices: {\n          low: prices[0],\n          high: prices[1]\n        }\n      })\n    } else{\n      this.setState({\n        prices: {\n          low: prices[0],\n          high: false\n        }\n      })\n    }\n  }\n//Filter the products with .filter() saving the new array under a common variable that in the end is returned\n  filterProducts = (products, type, brand, prices) => {\n\n    let filteredProducts = products;\n\n    // Transform Filtered Products based on passed arguments\n\n    // Types\n    if(type !== \"any\"){\n      filteredProducts = filteredProducts.filter(product => product.guitar_type === type)\n    }\n    // Brands\n    if(brand !== \"any\"){\n      filteredProducts = filteredProducts.filter(product => product.brand_name.toLowerCase() === brand)\n    }\n    // Handle Prices\n    if(prices.low) {\n      filteredProducts = filteredProducts.filter(product => product.price >= prices.low)\n    }\n    if(prices.high) {\n      filteredProducts = filteredProducts.filter(product => product.price <= prices.high)\n    }\n\n    return filteredProducts;\n  }\n\n  render() {\n\n    // Get the products off state.\n    const { products, type, brand, prices } = this.state;\n\n    // Filter Products by selection\n   const filteredProducts = this.filterProducts(products, type, brand, prices)\n    // Render Products\n    return (\n      <div className=\"product-container\">\n        <div className=\"row mt-3 mb-2\">\n          <h1 className=\"page-header top-page ml-3\">Browse Our Guitars!</h1>\n          <div >\n            <form className=\"form-inline col-md-8 col-lg-11 top-form\">\n              <div className=\"form-group mt-3\">\n                <select name=\"type\" className=\"ml-3 form-control product-select\" id=\"guitar-type\" onChange={this.handleChange}>\n                  <option value=\"any\" hidden>Guitar Type:</option>\n                  <option value=\"any\">Any</option>\n                  <option value=\"electric\">Electric Guitar</option>\n                  <option value=\"acoustic\">Acoustic Guitar</option>\n                </select>\n\n                <select name=\"prices\" className=\"ml-3 form-control product-select\" id=\"guitar-price\" onChange={this.changePrice}>\n                  <option value=\"0 500000\" hidden>Price:</option>\n                  <option value=\"0 500000\">Any</option>\n                  <option value=\"0 200\">Less than $200</option>\n                  <option value=\"200 499\">$200-$499</option>\n                  <option value=\"500 999\">$500-$999</option>\n                  <option value=\"1000 2999\">$1000-$2999</option>\n                  <option value=\"3000 5000\">$3000-$5000</option>\n                  <option value=\"5001\">More than $5000</option>\n                </select>\n\n                <select name=\"brand\" className=\"ml-3 form-control product-select\" id=\"guitar-brand\" onChange={this.handleChange}>\n                  <option value=\"any\" hidden>Brand:</option>\n                  <option value=\"any\">Any</option>\n                  <option value=\"fender\">Fender</option>\n                  <option value=\"squier\">Squier</option>\n                  <option value=\"epiphone\">Epiphone</option>\n                  <option value=\"prs\">PRS</option>\n                  <option value=\"ibanez\">Ibanez</option>\n                  <option value=\"martin\">Martin</option>\n                  <option value=\"ltd\">ESP/LTD</option>\n                  <option value=\"taylor\">Taylor</option>\n                  <option value=\"d'angelico\">D'Angelico</option>\n                  <option value=\"yamaha\">Yamaha</option>\n                  <option value=\"ernie-ball\">Ernie Ball</option>\n                </select>\n\n              </div>\n            </form>\n          </div>\n        </div>\n        <div className=\"row products\">\n          {filteredProducts.length >= 1 ? (\n            filteredProducts.map(product => (\n              <div key={product.product_id} className=\"product-box\">\n                <img src={product.img_url} alt={product.img_alt} className=\"img card-img-top\"></img>\n                <div className=\"card-body\">\n                  <h3 className=\"card-header\">{product.product_name}</h3>\n                  <p className=\"card-subtitle\">${product.price}</p>\n                  <p className=\"card-text ml-3\">{product.product_details}</p>\n                </div>\n              </div>\n            ))\n          ) : (\n            <p className=\"no-result\">No results found...</p> \n          )}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ProductsPage;"]},"metadata":{},"sourceType":"module"}